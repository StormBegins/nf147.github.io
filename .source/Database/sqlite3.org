#+TITLE: Sqlite3



* 安装

首先，下载相应的版本:
- https://sqlite.org/download.html

其次，解压到本地，并添加到环境变量。

然后，打开 CMD 创建，输入 sqlite3 命令，即可使用了。

* 简单使用

在命令行下，可以有两类语句:
1. 指令：所有指令都是以 ~.~ 开始，比如 .help/.tables 等
2. SQL 语句：除了之另外的其他语句，会被当成 SQL 语句处理。注意，SQL语句必须以 ~;~ 结尾。

创建或者打开一个数据库文件:
#+BEGIN_SRC sh
  sqlite3
  sqlite3 > .open xxx.db

  # 或者
  sqlite3 c:\xxx.db
#+END_SRC

* 常用指令

| 指令             | 描述                                                |
|------------------+-----------------------------------------------------|
| .help            | 查看帮助                                            |
| .quit            | 退出                                                |
| .open            | 打开数据库文件，如果不存在，那么创建一个新的并打开  |
| .mode            | 结果显示模式，有 ascii/csv/columns/list/tabs 等选项 |
| .schema          | 查看建表语句                                        |
| .tables          | 查看所有表                                          |
| .read            | 从外部加载执行 SQL 文件                             |
| .timer/trace ... | 定制显示项目                                        |

* 数据类型

每个存储在 SQLite 数据库中的值都具有以下存储类之一：

| 存储类  | 描述                                                                    |
|---------+-------------------------------------------------------------------------|
| NULL    | 值是一个 NULL 值。                                                      |
| INTEGER | 值是一个带符号的整数，根据值的大小存储在 1、2、3、4、6 或 8 字节中。    |
| REAL    | 值是一个浮点值，存储为 8 字节的 IEEE 浮点数字。                         |
| TEXT    | 值是一个文本字符串，使用数据库编码（UTF-8、UTF-16BE 或 UTF-16LE）存储。 |
| BLOB    | 值是一个 blob 数据，完全根据它的输入存储。                              |

亲和类型:

#+ATTR_HTML: :width 500px
[[file:img/clip_2018-08-27_02-29-47.png]]
* 其他
** 主键、自增长
** 分页
** 事务

